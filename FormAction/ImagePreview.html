<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			img{
				display: inline-block;
				height: 100px;
			}
		</style>
		<script type="text/javascript" src="../js/base.js"></script>
		
	</head>

	<body>
		<p><input type="file" name="image-upload" id="image-upload" accept="image/*" multiple /></p>
		<script>
			var file = document.querySelector("#image-upload");
			var fileChange = function(event) {
				var fileList=event.target.files;
				for(var i=0,len=fileList.length;i<len;i++)
				{
					file2dataurl(fileList[i],show);
				}
			};
			var show=function(url){
				var img=document.createElement("img");
				var img=new Image();
				img.src=url;
				document.body.appendChild(img);
			}
			addEvent(file, "change", fileChange, false);
			function file2dataurl(file, callback) {
				if (!window.FileReader) {
					throw 'Browser not support File API !';
				}
				var reader = new FileReader();
				reader.readAsDataURL(file);
				reader.onload = function(event) {
					callback(event.target.result);
				};
			}
		</script>
	</body>

</html>